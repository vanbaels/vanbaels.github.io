<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sven Van Bael">
<meta name="dcterms.date" content="2024-08-01">

<title>Some observations of the 2024 Veto federal election poll – Sven Van Bael</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="../../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="../../../site_libs/datatables-binding-0.33/datatables.js"></script>

<script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="../../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="../../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="../../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="../../../site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">

<script src="../../../site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>

<link href="../../../site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">

<script src="../../../site_libs/selectize-0.12.0/selectize.min.js"></script>

<link href="../../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="../../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Sven Van Bael</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../Personal_projects/personal_projects.html"> 
<span class="menu-text">Personal projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../Academic_work/academic_work.html"> 
<span class="menu-text">Academic work</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#packages-used" id="toc-packages-used" class="nav-link" data-scroll-target="#packages-used"><span class="header-section-number">2</span> Packages used</a></li>
  <li><a href="#exploring-the-data" id="toc-exploring-the-data" class="nav-link" data-scroll-target="#exploring-the-data"><span class="header-section-number">3</span> Exploring the data</a>
  <ul class="collapse">
  <li><a href="#extracting-the-raw-data-from-the-plots-was-successful-with-some-minor-missing-data" id="toc-extracting-the-raw-data-from-the-plots-was-successful-with-some-minor-missing-data" class="nav-link" data-scroll-target="#extracting-the-raw-data-from-the-plots-was-successful-with-some-minor-missing-data"><span class="header-section-number">3.1</span> Extracting the raw data from the plots was successful, with some minor missing data</a></li>
  <li><a href="#non-weighted-votes-show-a-less-prominent-difference-between-the-top-two-parties" id="toc-non-weighted-votes-show-a-less-prominent-difference-between-the-top-two-parties" class="nav-link" data-scroll-target="#non-weighted-votes-show-a-less-prominent-difference-between-the-top-two-parties"><span class="header-section-number">3.2</span> Non-weighted votes show a less prominent difference between the top-two parties</a></li>
  <li><a href="#the-rationale-behind-the-weight-correction" id="toc-the-rationale-behind-the-weight-correction" class="nav-link" data-scroll-target="#the-rationale-behind-the-weight-correction"><span class="header-section-number">3.3</span> The rationale behind the weight correction</a></li>
  <li><a href="#several-faculties-have-high-error-margins" id="toc-several-faculties-have-high-error-margins" class="nav-link" data-scroll-target="#several-faculties-have-high-error-margins"><span class="header-section-number">3.4</span> Several faculties have high error margins</a></li>
  </ul></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions"><span class="header-section-number">4</span> Conclusions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Some observations of the 2024 <em>Veto</em> federal election poll</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sven Van Bael </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 1, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">1</span> Introduction</h2>
<p>In the lead-up to the 2024 federal elections in Belgium, the student newspaper <em>Veto</em> conducted a survey among the students of its alma mater, the KU Leuven. On their website, <em>Veto</em> shows the results <a href="https://www.veto.be/sociaal/peiling-veto-n-va-is-weer-de-grootste-partij-bij-studenten/342378">university-wide</a> <span class="citation" data-cites="Nollet.2024.a">(<a href="#ref-Nollet.2024.a" role="doc-biblioref">Nollet et al., 2024a</a>)</span>, and <a href="https://www.veto.be/sociaal/peiling-veto-bekijk-hier-hoe-jouw-faculteit-stemde/342446">split up per faculty</a> <span class="citation" data-cites="Nollet.2024.b">(<a href="#ref-Nollet.2024.b" role="doc-biblioref">Nollet et al., 2024b</a>)</span>. For the university-wide results, the plot provides a breakdown of the votes per faculty for each of the political parties. At the time, this article was heavily discussed and debated in the media, prompting reactions from all sides from the political spectrum. Having a closer look at it, I did spot some interesting oddities that eventually sparked my interest for a more in-depth look.</p>
<p>A first observation in the university-wide plot is that the number of votes exceeds the total number of participants of the faculty. For example, in the faculty of Economics and Business, 137 students have voted for <em>N-VA</em> (<a href="#fig-Uni_vs_FEB" class="quarto-xref">Figure&nbsp;1</a>A), while the faculty plot shows that there are only a total of 50 participants, of which 27 (54%) voted for <em>N-VA</em> (<a href="#fig-Uni_vs_FEB" class="quarto-xref">Figure&nbsp;1</a>B).</p>
<div id="fig-Uni_vs_FEB" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Uni_vs_FEB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Uni_vs_FEB.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Uni_vs_FEB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: <em>Veto</em> survey results for the whole university (A) versus the faculty of Economics and Business (B). The discrepancy in the number of votes for <em>N-VA</em> is due to a weight correction that has been applied for the university-wide plot.
</figcaption>
</figure>
</div>
<p>So how did these 27 students in the faculty of Economics become 137 students university-wide? Luckily, the authors of the article provided a short description of their methods for analyzing the data:</p>
<blockquote class="blockquote">
<p><em>[…] The results from the students were weighted according to the relative size of the participating faculties […]</em></p>
<p><a href="https://www.veto.be/sociaal/peiling-veto-n-va-is-weer-de-grootste-partij-bij-studenten/342378"><strong>Veto</strong></a></p>
</blockquote>
<p>This reasoning is sound, as differences in survey participants between faculties can change their impact on the university-wide results. For example, two faculties can differ substantially in student numbers, but still have a comparable number of survey participants. As a result, both faculties will have equal contributions in the overall survey results. To correct for this, <em>Veto</em> used the number of students of each faculty to calculate their relative sizes within the university, and then re-scaled the total number of participants at each faculty accordingly. It should be noted that such a correction process is only valid when you are working with data that is representative for the whole faculty, otherwise you will be extrapolating unreliable data.</p>
<p>Let’s do a quick check for the earlier mentioned faculty of Economics and Business, where 50 students participated in the survey. Going by the <a href="https://www.kuleuven.be/prodstudinfo/v2/50000050/aant_det_en_v2.html">student numbers per faculty</a> <span class="citation" data-cites="KUL.2024">(<a href="#ref-KUL.2024" role="doc-biblioref">KU&nbsp;Leuven, 2024</a>)</span>, Economics and Business had a total of 10443 students in 2022-2023 (the most recent academic year with complete data). This means that the voting preferences of 50 students - not even 0.5% of the total faculty - has been extrapolated to represent that of 10443 students! To make matters worse: the faculty of Economics is one of the largest at KU Leuven, representing 16% of the total student body. Expecting that this was just an exception, and that other participant numbers would be more representative, I did the same check for Medicine, another large faculty with 11103 students. Here, 91 students have participated in the survey, a meager 0.8% of the entire faculty.</p>
<p>As a consequence of the low participation and size of both faculties, the weight correction has extrapolated the voting preferences of only 141 students to represent those of 21,546 students, or ~33% of the university. This observation prompted me to have a look at what the data looked like before the correction was applied. Luckily, <em>Veto</em> did a very good job in creating informative plots, making it possible to reverse engineer the raw data from the faculty and university-wide plots.</p>
</section>
<section id="packages-used" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="packages-used"><span class="header-section-number">2</span> Packages used</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggalluvial)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exploring-the-data" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="exploring-the-data"><span class="header-section-number">3</span> Exploring the data</h2>
<p>All code that is used to generate each figure and table is available under “Show code”.</p>
<section id="extracting-the-raw-data-from-the-plots-was-successful-with-some-minor-missing-data" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="extracting-the-raw-data-from-the-plots-was-successful-with-some-minor-missing-data"><span class="header-section-number">3.1</span> Extracting the raw data from the plots was successful, with some minor missing data</h3>
<p>To get the raw voting data, I went manually through the 16 faculty plots and recalculated the absolute votes per party from the percentage they scored and the total number of participants in each faculty. From the university-wide plot, I extracted the weight-corrected votes and added the column <code>Correction</code> to the data frame, containing the indicators <code>absolute</code> for the raw votes and <code>weighted</code> for the weight-corrected votes. The complete data set is available as <code>Veto_survey_votes.csv</code>. Next, I collected the faculty student numbers for the academic year 2022-2023 from the <a href="https://www.kuleuven.be/prodstudinfo/v2/50000050/aant_det_en_v2.html">KU Leuven website</a> <span class="citation" data-cites="KUL.2024">(<a href="#ref-KUL.2024" role="doc-biblioref">KU&nbsp;Leuven, 2024</a>)</span>, and saved it as <code>KUL_student_numbers.csv</code>. Both data sets were combined, and the result is shown in <a href="#tbl-raw_votes" class="quarto-xref">Table&nbsp;1</a>.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Read the .csv file containing the student numbers.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df_student_numbers <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"KUL_student_numbers.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Read the .csv file containing the raw and weighted votes, and join with the student numbers data frame</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>df_votes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Veto_survey_votes.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faculty) <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Participants - absolute</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"Votes - absolute"</span>, <span class="st">"Votes - weighted"</span>), <span class="at">names_to =</span> <span class="st">"Correction"</span>, <span class="at">values_to =</span> <span class="st">"Votes"</span>, <span class="at">names_prefix =</span> <span class="st">"Votes - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faculty, Correction) <span class="sc">%&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"Participants"</span> <span class="ot">=</span> <span class="fu">sum</span>(Votes)) <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(., df_student_numbers, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"Faculty"</span>, <span class="st">"Abbreviation"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Students faculty</span><span class="st">`</span> <span class="sc">%&gt;%</span> <span class="fu">desc</span>())</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Change Faculty, Abbreviation, Correction and Party to type factor</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>df_votes<span class="sc">$</span>Faculty <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_votes<span class="sc">$</span>Faculty)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>df_votes<span class="sc">$</span>Abbreviation <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_votes<span class="sc">$</span>Abbreviation)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>df_votes<span class="sc">$</span>Correction <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_votes<span class="sc">$</span>Correction, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"weighted"</span>, <span class="st">"absolute"</span>))</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>df_votes<span class="sc">$</span>Party <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_votes<span class="sc">$</span>Party, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"N-VA"</span>, <span class="st">"Groen"</span>, <span class="st">"Vooruit"</span>, <span class="st">"Open VLD"</span>, <span class="st">"CD&amp;V"</span>, <span class="st">"PVDA"</span>, <span class="st">"Vlaams Belang"</span>, <span class="st">"Voor U"</span>, <span class="st">"I'm not going to vote"</span>, <span class="st">"L'Unie"</span>, <span class="st">"I vote blank"</span>, <span class="st">"Partij Blanco"</span>))</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(df_votes, <span class="at">filter =</span> <span class="st">"top"</span>, <span class="at">rownames =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-raw_votes" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-raw_votes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Vote and faculty statistics of all 16 KU Leuven faculties that participated in the survey. Data was extracted from the <em>Veto</em> article, and KU Leuven website.
</figcaption>
<div aria-describedby="tbl-raw_votes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-4c60734223ca220a7da9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4c60734223ca220a7da9">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Faculty of Architecture&quot;,&quot;Faculty of Arts&quot;,&quot;Faculty of Bioscience Engineering&quot;,&quot;Faculty of Canon Law&quot;,&quot;Faculty of Economics and Business&quot;,&quot;Faculty of Engineering Science&quot;,&quot;Faculty of Engineering Technology&quot;,&quot;Faculty of Law and Criminology&quot;,&quot;Faculty of Medicine&quot;,&quot;Faculty of Movement and Rehabilitation Sciences&quot;,&quot;Faculty of Pharmaceutical Sciences&quot;,&quot;Faculty of Psychology and Educational Sciences&quot;,&quot;Faculty of Science&quot;,&quot;Faculty of Social Sciences&quot;,&quot;Faculty of Theology and Religious Studies&quot;,&quot;Institute of Philosophy&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;BFKR&quot;,&quot;FA&quot;,&quot;FaBeR&quot;,&quot;FBIW&quot;,&quot;FEB&quot;,&quot;FFW&quot;,&quot;FIIW&quot;,&quot;FirW&quot;,&quot;FRC&quot;,&quot;FSW&quot;,&quot;FTRW&quot;,&quot;FWET&quot;,&quot;GEN&quot;,&quot;HIW&quot;,&quot;LETT&quot;,&quot;PPW&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;N-VA&quot;,&quot;Groen&quot;,&quot;Vooruit&quot;,&quot;Open VLD&quot;,&quot;CD&amp;V&quot;,&quot;PVDA&quot;,&quot;Vlaams Belang&quot;,&quot;Voor U&quot;,&quot;I&#39;m not going to vote&quot;,&quot;L&#39;Unie&quot;,&quot;I vote blank&quot;,&quot;Partij Blanco&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;weighted&quot;,&quot;absolute&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"137\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"3\" data-max=\"399\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"121\" data-max=\"11167\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Medicine","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Economics and Business","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Law and Criminology","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Science","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Engineering Technology","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Science","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Arts","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Psychology and Educational Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Social Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Bioscience Engineering","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Faculty of Architecture","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Institute of Philosophy","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Pharmaceutical Sciences","Faculty of Theology and Religious Studies","Faculty of Theology and Religious Studies","Faculty of Theology and Religious Studies","Faculty of Theology and Religious Studies","Faculty of Theology and Religious Studies","Faculty of Theology and Religious Studies","Faculty of Theology and Religious Studies","Faculty of Theology and Religious Studies","Faculty of Canon Law","Faculty of Canon Law","Faculty of Canon Law","Faculty of Canon Law"],["GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","GEN","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FEB","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FRC","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FirW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FIIW","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","FWET","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","LETT","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","PPW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FSW","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FaBeR","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FBIW","FA","FA","FA","FA","FA","FA","FA","FA","FA","FA","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","HIW","FFW","FFW","FFW","FFW","FFW","FFW","FFW","FFW","FFW","FFW","FFW","FFW","FTRW","FTRW","FTRW","FTRW","FTRW","FTRW","FTRW","FTRW","BFKR","BFKR","BFKR","BFKR"],["N-VA","N-VA","Groen","Groen","Vooruit","Vooruit","PVDA","PVDA","Open VLD","Open VLD","CD&amp;V","CD&amp;V","Vlaams Belang","Vlaams Belang","I'm not going to vote","I'm not going to vote","Voor U","Voor U","L'Unie","L'Unie","N-VA","N-VA","Vlaams Belang","Vlaams Belang","Groen","Groen","Open VLD","Open VLD","Vooruit","Vooruit","CD&amp;V","CD&amp;V","PVDA","PVDA","Voor U","Voor U","N-VA","N-VA","Open VLD","Open VLD","Groen","Groen","Vooruit","Vooruit","CD&amp;V","CD&amp;V","Vlaams Belang","Vlaams Belang","PVDA","PVDA","I'm not going to vote","I'm not going to vote","I vote blank","I vote blank","Voor U","Voor U","L'Unie","L'Unie","N-VA","N-VA","Vooruit","Vooruit","Open VLD","Open VLD","CD&amp;V","CD&amp;V","Groen","Groen","Vlaams Belang","Vlaams Belang","PVDA","PVDA","I'm not going to vote","I'm not going to vote","Voor U","Voor U","I vote blank","I vote blank","Partij Blanco","Partij Blanco","Vlaams Belang","Vlaams Belang","N-VA","N-VA","Open VLD","Open VLD","Vooruit","Vooruit","CD&amp;V","CD&amp;V","Groen","Groen","PVDA","PVDA","Groen","Groen","Vooruit","Vooruit","N-VA","N-VA","CD&amp;V","CD&amp;V","Open VLD","Open VLD","PVDA","PVDA","Vlaams Belang","Vlaams Belang","I vote blank","I vote blank","L'Unie","L'Unie","I'm not going to vote","I'm not going to vote","Voor U","Voor U","Groen","Groen","Vooruit","Vooruit","PVDA","PVDA","N-VA","N-VA","CD&amp;V","CD&amp;V","Open VLD","Open VLD","Vlaams Belang","Vlaams Belang","L'Unie","L'Unie","Partij Blanco","Partij Blanco","I vote blank","I vote blank","I'm not going to vote","I'm not going to vote","Voor U","Voor U","Groen","Groen","Vooruit","Vooruit","PVDA","PVDA","N-VA","N-VA","CD&amp;V","CD&amp;V","Open VLD","Open VLD","Vlaams Belang","Vlaams Belang","Voor U","Voor U","Vooruit","Vooruit","Groen","Groen","N-VA","N-VA","PVDA","PVDA","CD&amp;V","CD&amp;V","Open VLD","Open VLD","Vlaams Belang","Vlaams Belang","I vote blank","I vote blank","L'Unie","L'Unie","I'm not going to vote","I'm not going to vote","N-VA","N-VA","Groen","Groen","CD&amp;V","CD&amp;V","Open VLD","Open VLD","Vooruit","Vooruit","Vlaams Belang","Vlaams Belang","Voor U","Voor U","Groen","Groen","Vooruit","Vooruit","N-VA","N-VA","CD&amp;V","CD&amp;V","Open VLD","Open VLD","PVDA","PVDA","Partij Blanco","Partij Blanco","Vooruit","Vooruit","N-VA","N-VA","Groen","Groen","Open VLD","Open VLD","PVDA","PVDA","PVDA","PVDA","Groen","Groen","Vooruit","Vooruit","Vlaams Belang","Vlaams Belang","CD&amp;V","CD&amp;V","I vote blank","I vote blank","N-VA","N-VA","Open VLD","Open VLD","Open VLD","Open VLD","CD&amp;V","CD&amp;V","N-VA","N-VA","PVDA","PVDA","Vlaams Belang","Vlaams Belang","Vooruit","Vooruit","CD&amp;V","CD&amp;V","Groen","Groen","N-VA","N-VA","PVDA","PVDA","Vlaams Belang","Vlaams Belang","N-VA","N-VA"],["absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted","absolute","weighted"],[19,52,18,50,18,50,15,41,8,22,5,14,3,8,2,6,2,6,1,3,27,137,8,40,4,20,4,20,3,15,2,10,1,5,1,5,87,37,71,30,55,23,55,23,50,21,30,13,18,8,4,2,2,1,2,1,1,0,84,61,33,24,31,23,25,18,18,13,18,13,9,7,4,3,4,3,3,2,3,2,6,33,5,27,5,27,3,16,2,11,1,5,1,5,81,31,81,31,60,23,35,13,28,11,28,11,22,8,3,1,3,1,3,1,3,1,109,33,73,22,63,19,50,15,41,12,25,8,17,5,10,3,6,2,2,1,2,1,1,0,15,32,10,21,9,19,6,13,5,11,4,8,1,2,1,2,28,29,19,20,13,14,13,14,12,12,10,10,7,7,2,2,2,2,1,1,9,20,8,18,5,11,5,11,4,9,3,7,1,2,16,30,10,19,8,15,4,8,3,6,1,2,1,2,3,20,2,14,1,7,1,7,1,7,5,9,4,7,4,7,3,5,1,2,1,2,1,2,1,2,3,11,1,4,1,4,1,4,1,4,1,4,6,14,1,2,1,2,1,2,2,3,1,2],[91,252,91,252,91,252,91,252,91,252,91,252,91,252,91,252,91,252,91,252,50,252,50,252,50,252,50,252,50,252,50,252,50,252,50,252,375,159,375,159,375,159,375,159,375,159,375,159,375,159,375,159,375,159,375,159,375,159,232,169,232,169,232,169,232,169,232,169,232,169,232,169,232,169,232,169,232,169,232,169,23,124,23,124,23,124,23,124,23,124,23,124,23,124,347,132,347,132,347,132,347,132,347,132,347,132,347,132,347,132,347,132,347,132,347,132,399,121,399,121,399,121,399,121,399,121,399,121,399,121,399,121,399,121,399,121,399,121,399,121,51,108,51,108,51,108,51,108,51,108,51,108,51,108,51,108,107,111,107,111,107,111,107,111,107,111,107,111,107,111,107,111,107,111,107,111,35,78,35,78,35,78,35,78,35,78,35,78,35,78,43,82,43,82,43,82,43,82,43,82,43,82,43,82,8,55,8,55,8,55,8,55,8,55,20,36,20,36,20,36,20,36,20,36,20,36,20,36,20,36,8,31,8,31,8,31,8,31,8,31,8,31,9,20,9,20,9,20,9,20,3,5,3,5],[11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,11167,10453,10453,10453,10453,10453,10453,10453,10453,10453,10453,10453,10453,10453,10453,10453,10453,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6696,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6519,6056,6056,6056,6056,6056,6056,6056,6056,6056,6056,6056,6056,6056,6056,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5249,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,5194,4762,4762,4762,4762,4762,4762,4762,4762,4762,4762,4762,4762,4762,4762,4762,4762,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,4541,3268,3268,3268,3268,3268,3268,3268,3268,3268,3268,3268,3268,3268,3268,3175,3175,3175,3175,3175,3175,3175,3175,3175,3175,3175,3175,3175,3175,2603,2603,2603,2603,2603,2603,2603,2603,2603,2603,1786,1786,1786,1786,1786,1786,1786,1786,1786,1786,1786,1786,1786,1786,1786,1786,1204,1204,1204,1204,1204,1204,1204,1204,1204,1204,1204,1204,912,912,912,912,912,912,912,912,121,121,121,121]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Faculty<\/th>\n      <th>Abbreviation<\/th>\n      <th>Party<\/th>\n      <th>Correction<\/th>\n      <th>Votes<\/th>\n      <th>Participants<\/th>\n      <th>Students faculty<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[4,5,6]},{"name":"Faculty","targets":0},{"name":"Abbreviation","targets":1},{"name":"Party","targets":2},{"name":"Correction","targets":3},{"name":"Votes","targets":4},{"name":"Participants","targets":5},{"name":"Students faculty","targets":6}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
<hr>
<p>When summarizing this table for the entire university (<a href="#tbl-total_votes" class="quarto-xref">Table&nbsp;2</a>), the total number of students that participated in the survey is 1801. For the weight correction, this number drops to 1735. Annoyingly, this value of weight-corrected votes does not correspond with what is indicated on the university wide plot in the <em>Veto</em> article (also shown in <a href="#fig-Uni_vs_FEB" class="quarto-xref">Figure&nbsp;1</a>), which states that the total number of weight corrected votes equals 1728.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summing the absolute and weight-corrected votes to get the total number of particpants for each.</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df_votes <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Correction) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Total votes"</span> <span class="ot">=</span> <span class="fu">sum</span>(Votes)) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">rownames =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-total_votes" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-total_votes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Total number of absolute and weight-corrected participants in the survey.
</figcaption>
<div aria-describedby="tbl-total_votes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-766f4d0a585944abc383" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-766f4d0a585944abc383">{"x":{"filter":"none","vertical":false,"data":[["weighted","absolute"],[1735,1801]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Correction<\/th>\n      <th>Total votes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":1},{"name":"Correction","targets":0},{"name":"Total votes","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
<hr>
<p>The cause of this discrepancy is unknown, but while collecting the data from the plots, I noticed that sometimes the total number of party votes do not add up, or a zero number of votes corresponded to a non-zero percentage (<a href="#fig-sum_error" class="quarto-xref">Figure&nbsp;2</a>). As a guess, I would say these small differences are the result of rounding errors. As a consequence, extracting the exact values from the plots in the article will be impossible. Luckily, these differences are small enough to have a negligible effect in further analyses.</p>
<div id="fig-sum_error" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sum_error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="summ_error.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sum_error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Breakdown of the weighted votes for <em>N-VA</em> (A) and <em>Voor U</em> (B) per faculty, as obtained from the university-wide plot in the <em>Veto</em> article. In A, the sum of all weighted votes does not equal 436, but 438 instead. In B, the faculty of Arts has zero votes, yet this somehow corresponds to 1.5% of the total.
</figcaption>
</figure>
</div>
<p>The real question is: why is there even a difference between the absolute and weight-corrected votes at all? Weight correction - as the name implies - should only affect the weight of the votes between faculties, and not the total amount. As of yet, I have no explanation why in the <em>Veto</em> article the weight-corrected plot has 1728 participants, while summing absolute vote counts of the individual faculties yields 1801 participants.</p>
</section>
<section id="non-weighted-votes-show-a-less-prominent-difference-between-the-top-two-parties" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="non-weighted-votes-show-a-less-prominent-difference-between-the-top-two-parties"><span class="header-section-number">3.2</span> Non-weighted votes show a less prominent difference between the top-two parties</h3>
<p>Having all the data, let’s recreate the university-wide plot with the non-corrected data. This can provide an insight into the overall impact of the weight correction.</p>
<p>One remarkable element in the original plot with weight correction is the big difference between the two largest parties: <em>N-VA</em> scored 25.2%, while <em>Groen</em> came second with 16.8%, a difference of 8.4 percentage points! When looking at the raw voting results (<a href="#fig-uni_wide" class="quarto-xref">Figure&nbsp;3</a>), this massive difference has melted away. <em>N-VA</em> still remains the largest party, but <em>Groen</em> and <em>Vooruit</em> follow closely, with a 1.4 and 2.7 percentage point difference respectively.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate the percentages of raw and weight-corrected votes for each party.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df_party_pct <span class="ot">&lt;-</span> df_votes <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Party, Correction) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Votes - total"</span> <span class="ot">=</span> <span class="fu">sum</span>(Votes)) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Correction) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"Percentage"</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Votes - total</span><span class="st">`</span><span class="sc">/</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Votes - total</span><span class="st">`</span>))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Set the colors for each party. Muted colors for weighted, bright colors for non-corrected votes.</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>party_colors <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"#F1C77E"</span>, <span class="st">"#86C186"</span>, <span class="st">"#EC5D5B"</span>, <span class="st">"#719bba"</span>, <span class="st">"#FA8F61"</span>, <span class="st">"#BD0F0F"</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"#F5E78F"</span>, <span class="st">"#E28DC9"</span>, <span class="st">"#CCCCCC"</span>, <span class="st">"#CCCCCC"</span>, <span class="st">"#CCCCCC"</span>, <span class="st">"#CCCCCC"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"#dc9417"</span>, <span class="st">"#4A904A"</span>, <span class="st">"#BF1A17"</span>, <span class="st">"#065788"</span>, <span class="st">"#E04300"</span>, <span class="st">"#7B0A0A"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"#ECD332"</span>, <span class="st">"#CD349F"</span>, <span class="st">"#8B8B8B"</span>, <span class="st">"#8B8B8B"</span>, <span class="st">"#8B8B8B"</span>, <span class="st">"#8B8B8B"</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot.</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_party_pct) <span class="sc">+</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> Party, <span class="at">y =</span> Percentage, <span class="at">fill =</span> <span class="fu">interaction</span>(Party, Correction)), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">position =</span> <span class="fu">position_dodge2</span>(<span class="at">width =</span> <span class="fl">0.9</span>), <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> Party, <span class="at">y =</span> Percentage <span class="sc">-</span> <span class="fu">ifelse</span>(Percentage <span class="sc">&lt;</span> <span class="fl">0.015</span>, <span class="sc">-</span><span class="fl">0.015</span>, <span class="fl">0.02</span>), <span class="at">label =</span> <span class="fu">round</span>(Percentage<span class="sc">*</span><span class="dv">100</span>, <span class="dv">1</span>)), <span class="at">position =</span> <span class="fu">position_dodge2</span>(<span class="at">width =</span> <span class="fl">0.9</span>), <span class="at">angle =</span> <span class="dv">90</span>) <span class="sc">+</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fl">0.3</span>, <span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> party_colors) <span class="sc">+</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-uni_wide" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-uni_wide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="VetoPoll_files/figure-html/fig-uni_wide-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-uni_wide-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: University-wide plot with the weight-corrected votes from the <em>Veto</em> article (muted colors, left), and the non-corrected votes (bright colors, right) that was obtained from the separate faculty plots.
</figcaption>
</figure>
</div>
</div>
</div>
<p>From <a href="#fig-uni_wide" class="quarto-xref">Figure&nbsp;3</a> , it seems that the weight correction had an opposite effect on the two largest parties: inflating the votes of <em>N-VA</em>, while reducing those of <em>Groen</em>, creating the massive gap between the two. The question now is: is the data that has been adjusted by the weight correction trustworthy?</p>
</section>
<section id="the-rationale-behind-the-weight-correction" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="the-rationale-behind-the-weight-correction"><span class="header-section-number">3.3</span> The rationale behind the weight correction</h3>
<p>From the description in the <em>Veto</em> article, we know that the correction was based on the relative sizes of the individual faculties, but what does this exactly mean?</p>
<p>Let’s take the faculty of Science as an example: <a href="#tbl-raw_votes" class="quarto-xref">Table&nbsp;1</a>, states that 347 students of this faculty participated in the survey, and <a href="#tbl-total_votes" class="quarto-xref">Table&nbsp;2</a> shows that 1801 students participated in the survey. Consequently, the faculty of Science contributes 19.27% (= 347/1801) participants to the survey. However, with its 5249 students, the faculty only represents 7.12% of the total university student body. In the survey, the 1801 participants represent 100% of the university, and 7.12% of these should be from the faculty of Science, not 19.27%. As a result, the total participants are down-scaled from 347 (19.27% of 1801) to 129 (7.12% of 1801). These 129 participants are then redistributed according to the original voting results of the faculty (so for example: 23.3% for the party <em>Groen</em> now equals 31 “weight-corrected” people, and not the original 81).</p>
<p>The faculty of Science is an example where the number of participants far exceeds the relative size of the faculty within the university, and as a result undergoes a downward correction. Earlier I discussed two examples where the opposite happens: Economics and Medicine. Each representing 14%/15% of the university, but only 2.78%/5.05% of the survey, so they get a drastic upward correction.</p>
<p>To visualize this, the share of each faculty in survey participants is compared to the relative faculty size, and the faculty share in weight-corrected participants (<a href="#fig-weight_correction" class="quarto-xref">Figure&nbsp;4</a>), making the aforementioned up-scaling effect of Medicine and Economics clearly visible. On the other side are the faculties of Science, Law and Criminology, and Arts. All three have been drastically down-scaled due to their high survey participant numbers (<a href="#fig-weight_correction" class="quarto-xref">Figure&nbsp;4</a>).</p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate the relative proportions of absolute participants, weight-corrected participants and faculty size.</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df_fac_tot <span class="ot">&lt;-</span> df_votes <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faculty, Abbreviation, <span class="st">`</span><span class="at">Students faculty</span><span class="st">`</span>, Correction) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">"Total participants"</span> <span class="ot">=</span> <span class="fu">sum</span>(Votes)) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Correction, <span class="at">values_from =</span> <span class="st">`</span><span class="at">Total participants</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"Share of weight-corrected participants"</span> <span class="ot">=</span> weighted<span class="sc">/</span><span class="fu">sum</span>(weighted),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Share of absolute participants"</span> <span class="ot">=</span> absolute<span class="sc">/</span><span class="fu">sum</span>(absolute),</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Relative size of faculty"</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Students faculty</span><span class="st">`</span><span class="sc">/</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Students faculty</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">8</span>), <span class="at">names_to =</span> <span class="st">"Type"</span>, <span class="at">values_to =</span> <span class="st">"Percentage"</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#Set variable Type as factor and set levels</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>df_fac_tot<span class="sc">$</span>Type <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_fac_tot<span class="sc">$</span>Type, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Share of absolute participants"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                                                      <span class="st">"Relative size of faculty"</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                                                      <span class="st">"Share of weight-corrected participants"</span>))</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co">#Rename the levels of the factor "Type" for a cleaner plot.</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>df_fac_tot<span class="sc">$</span>Type <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(df_fac_tot<span class="sc">$</span>Type,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Share of </span><span class="sc">\n</span><span class="st"> absolute participants"</span> <span class="ot">=</span> <span class="st">"Share of absolute participants"</span>,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Relative size </span><span class="sc">\n</span><span class="st"> of faculty"</span> <span class="ot">=</span> <span class="st">"Relative size of faculty"</span>, </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Share of weight- </span><span class="sc">\n</span><span class="st"> corrected participants"</span> <span class="ot">=</span> <span class="st">"Share of weight-corrected participants"</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co">#Sort the levels of the factor "Faculty" according to the number of students.</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>df_fac_tot<span class="sc">$</span>Faculty <span class="ot">&lt;-</span> <span class="fu">fct_reorder</span>(df_fac_tot<span class="sc">$</span>Faculty, df_fac_tot<span class="sc">$</span><span class="st">`</span><span class="at">Students faculty</span><span class="st">`</span>, <span class="at">.desc =</span> T)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#Create two dataframes to add labels to the plot, even indexes of the factor "Faculty" on the left, and odd ones on the right.</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>df_labels_fac_even <span class="ot">&lt;-</span> df_fac_tot <span class="sc">%&gt;%</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.integer</span>(Type) <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Faculty)) <span class="sc">%&gt;%</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"CumSum"</span> <span class="ot">=</span> <span class="fu">cumsum</span>(Percentage) <span class="sc">-</span> Percentage<span class="sc">/</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.integer</span>(Faculty)<span class="sc">%%</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>df_labels_fac_odd <span class="ot">&lt;-</span> df_fac_tot <span class="sc">%&gt;%</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.integer</span>(Type) <span class="sc">==</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Faculty)) <span class="sc">%&gt;%</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"CumSum"</span> <span class="ot">=</span> <span class="fu">cumsum</span>(Percentage) <span class="sc">-</span> Percentage<span class="sc">/</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.integer</span>(Faculty)<span class="sc">%%</span><span class="dv">2</span> <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot.</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>fac_colors <span class="ot">&lt;-</span> <span class="fu">hue_pal</span>()(<span class="dv">16</span>)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_fac_tot) <span class="sc">+</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">x =</span> Type, <span class="at">y =</span> Percentage, <span class="at">alluvium =</span> Faculty, <span class="at">fill =</span> Faculty), <span class="at">alpha =</span> <span class="fl">0.25</span>, <span class="at">color =</span> <span class="st">"#595655"</span>, <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">curve_type =</span> <span class="st">"linear"</span>, <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> Type, <span class="at">y =</span> Percentage, <span class="at">fill =</span> Faculty), <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Labels on the left.</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> df_labels_fac_even, <span class="fu">aes</span>(<span class="at">x =</span> Type, <span class="at">y =</span> CumSum, <span class="at">label =</span> Abbreviation), <span class="at">max.overlaps =</span> <span class="cn">Inf</span>, <span class="at">nudge_x =</span> <span class="sc">-</span><span class="fl">0.75</span>, <span class="at">segment.curvature =</span> <span class="fl">0.1</span>, <span class="at">segment.ncp =</span> <span class="dv">3</span>, <span class="at">segment.inflect =</span> T, <span class="at">segment.square =</span> F, <span class="at">segment.color =</span> <span class="st">"#6b696c"</span>) <span class="sc">+</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Labels on the right.</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> df_labels_fac_odd, <span class="fu">aes</span>(<span class="at">x =</span> Type, <span class="at">y =</span> CumSum, <span class="at">label =</span> Abbreviation), <span class="at">max.overlaps =</span> <span class="cn">Inf</span>, <span class="at">nudge_x =</span> <span class="fl">0.75</span>, <span class="at">segment.curvature =</span> <span class="fl">0.1</span>, <span class="at">segment.ncp =</span> <span class="dv">3</span>, <span class="at">segment.inflect =</span> T, <span class="at">segment.square =</span> F, <span class="at">segment.color =</span> <span class="st">"#6b696c"</span>) <span class="sc">+</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>)) <span class="sc">+</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> fac_colors) <span class="sc">+</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>        )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-weight_correction" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-weight_correction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="VetoPoll_files/figure-html/fig-weight_correction-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-weight_correction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Comparison of the share of survey participants, the relative sizes of each faculty and the weight-corrected participants. The weight reduction of faculties with high participant numbers such as Science and Arts is clearly visible. On the other hand, Medicine and Economics have been rescaled upwards quite dramatically.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Since the relative size of the faculties is the basis of the weight correction, it is evident that the columns “Relative size of faculty” and “Share of weight-corrected participants” in <a href="#fig-weight_correction" class="quarto-xref">Figure&nbsp;4</a> are almost identical. The reason that they are not an exact match is probably because I used the KU Leuven 2022-2023 faculty numbers for calculating relative faculty size, while <em>Veto</em> might had access to a different source of student numbers for their weight correction.</p>
</section>
<section id="several-faculties-have-high-error-margins" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="several-faculties-have-high-error-margins"><span class="header-section-number">3.4</span> Several faculties have high error margins</h3>
<p>The number of participants is extremely low for several faculties. For example, Cannon Law, Architecture, Pharmaceutical sciences and Theology all have less than 10 participants. Because of this, <em>Veto</em> added a warning to the faculty plots that the outcome of these faculties are probably not relevant (yet they still applied a weight correction and used the data for their university-wide plot).</p>
<p>In order to have a quantifiable measure of how reliable the faculty data are , I calculated the margin of error:</p>
<p><span class="math display">\[
\text{Margin of error} = z\cdot\sqrt{\frac{p(1-p)}{N}}
\]</span></p>
<p>Where <span class="math inline">\(z\)</span> is the z-score for a certain confidence level (1.96 is mostly used, and corresponds with a 95% confidence), <span class="math inline">\(p\)</span> is the proportion of the result (i.e.&nbsp;the score of a party), and <span class="math inline">\(N\)</span> the number of participants. Most surveys in (trustworthy) newspapers and websites will use a margin of error of ~3% at 95% confidence. This means that 95% of the time, the reported result of a party will lie within an interval of ±3 percentage points. As an example: a score of 20 ± 3% for <em>Vooruit</em> conveys that when you repeat the same survey 100 times, 95 times the obtained results will lie between 17% and 23% for <em>Vooruit</em>. Hence, the smaller the margin of error, the more trustworthy the results.</p>
<p>For the <em>Veto</em> poll, I calculated the margin of error for the largest party per faculty (since <span class="math inline">\(p\)</span> depends on the party score, the error will be larger for large parties and vice versa). Percentage scores were calculated using the non-corrected votes. The results can be found in <a href="#tbl-error_margin" class="quarto-xref">Table&nbsp;3</a>.</p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_fac_party_pct <span class="ot">&lt;-</span> df_votes <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Faculty, Correction) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(Votes, <span class="at">with_ties =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Correction, <span class="at">values_from =</span> <span class="fu">c</span>(Votes, Participants)) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"Share of absolute participants"</span> <span class="ot">=</span> (Participants_absolute<span class="sc">/</span><span class="fu">sum</span>(Participants_absolute)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(., <span class="dv">4</span>),</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Share of weight-corrected participants"</span> <span class="ot">=</span> (Participants_weighted<span class="sc">/</span><span class="fu">sum</span>(Participants_weighted)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(., <span class="dv">4</span>),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Percentage_vote_absolute"</span> <span class="ot">=</span> (Votes_absolute<span class="sc">/</span>Participants_absolute) <span class="sc">%&gt;%</span> <span class="fu">round</span>(., <span class="dv">4</span>),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Error margin"</span> <span class="ot">=</span> (<span class="fl">1.96</span><span class="sc">*</span><span class="fu">sqrt</span>((Percentage_vote_absolute<span class="sc">*</span>(<span class="dv">1</span> <span class="sc">-</span> Percentage_vote_absolute))<span class="sc">/</span>Participants_absolute)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(., <span class="dv">4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Faculty, Abbreviation, Party, <span class="st">`</span><span class="at">Percentage_vote_absolute</span><span class="st">`</span>, <span class="st">`</span><span class="at">Students faculty</span><span class="st">`</span>, <span class="st">`</span><span class="at">Share of absolute participants</span><span class="st">`</span>, <span class="st">`</span><span class="at">Share of weight-corrected participants</span><span class="st">`</span>, <span class="st">`</span><span class="at">Error margin</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Students faculty</span><span class="st">`</span>))</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(df_fac_party_pct, <span class="at">filter =</span> <span class="st">"top"</span>, <span class="at">rownames =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-error_margin" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-error_margin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: The largest political party in each faculty, and their margins of error.
</figcaption>
<div aria-describedby="tbl-error_margin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6cdf4ac0103f8e4fe11a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6cdf4ac0103f8e4fe11a">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Faculty of Architecture&quot;,&quot;Faculty of Arts&quot;,&quot;Faculty of Bioscience Engineering&quot;,&quot;Faculty of Canon Law&quot;,&quot;Faculty of Economics and Business&quot;,&quot;Faculty of Engineering Science&quot;,&quot;Faculty of Engineering Technology&quot;,&quot;Faculty of Law and Criminology&quot;,&quot;Faculty of Medicine&quot;,&quot;Faculty of Movement and Rehabilitation Sciences&quot;,&quot;Faculty of Pharmaceutical Sciences&quot;,&quot;Faculty of Psychology and Educational Sciences&quot;,&quot;Faculty of Science&quot;,&quot;Faculty of Social Sciences&quot;,&quot;Faculty of Theology and Religious Studies&quot;,&quot;Institute of Philosophy&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;BFKR&quot;,&quot;FA&quot;,&quot;FaBeR&quot;,&quot;FBIW&quot;,&quot;FEB&quot;,&quot;FFW&quot;,&quot;FIIW&quot;,&quot;FirW&quot;,&quot;FRC&quot;,&quot;FSW&quot;,&quot;FTRW&quot;,&quot;FWET&quot;,&quot;GEN&quot;,&quot;HIW&quot;,&quot;LETT&quot;,&quot;PPW&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;N-VA&quot;,&quot;Groen&quot;,&quot;Vooruit&quot;,&quot;Open VLD&quot;,&quot;CD&amp;V&quot;,&quot;PVDA&quot;,&quot;Vlaams Belang&quot;,&quot;Voor U&quot;,&quot;I&#39;m not going to vote&quot;,&quot;L&#39;Unie&quot;,&quot;I vote blank&quot;,&quot;Partij Blanco&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.2088\" data-max=\"0.6667\" data-scale=\"4\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"121\" data-max=\"11167\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.0017\" data-max=\"0.2215\" data-scale=\"4\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.0028\" data-max=\"0.1452\" data-scale=\"4\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.0427\" data-max=\"0.5334\" data-scale=\"4\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["Faculty of Medicine","Faculty of Economics and Business","Faculty of Law and Criminology","Faculty of Engineering Science","Faculty of Engineering Technology","Faculty of Science","Faculty of Arts","Faculty of Psychology and Educational Sciences","Faculty of Social Sciences","Faculty of Movement and Rehabilitation Sciences","Faculty of Bioscience Engineering","Faculty of Architecture","Institute of Philosophy","Faculty of Pharmaceutical Sciences","Faculty of Theology and Religious Studies","Faculty of Canon Law"],["GEN","FEB","FRC","FirW","FIIW","FWET","LETT","PPW","FSW","FaBeR","FBIW","FA","HIW","FFW","FTRW","BFKR"],["N-VA","N-VA","N-VA","N-VA","Vlaams Belang","Groen","Groen","Groen","Vooruit","N-VA","Groen","Vooruit","PVDA","Open VLD","CD&amp;V","Vlaams Belang"],[0.2088,0.54,0.232,0.3621,0.2609,0.2334,0.2732,0.2941,0.2617,0.2571,0.3721,0.375,0.25,0.375,0.6667,0.6667],[11167,10453,6696,6519,6056,5249,5194,4762,4541,3268,3175,2603,1786,1204,912,121],[0.0505,0.0278,0.2082,0.1288,0.0128,0.1927,0.2215,0.0283,0.0594,0.0194,0.0239,0.0044,0.0111,0.0044,0.005,0.0017],[0.1452,0.1452,0.0916,0.0974,0.0715,0.0761,0.0697,0.0622,0.064,0.045,0.0473,0.0317,0.0207,0.0179,0.0115,0.0029],[0.0835,0.1381,0.0427,0.0618,0.1795,0.0445,0.0437,0.1251,0.0833,0.1448,0.1445,0.3355,0.1898,0.3355,0.308,0.5334]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Faculty<\/th>\n      <th>Abbreviation<\/th>\n      <th>Party<\/th>\n      <th>Percentage_vote_absolute<\/th>\n      <th>Students faculty<\/th>\n      <th>Share of absolute participants<\/th>\n      <th>Share of weight-corrected participants<\/th>\n      <th>Error margin<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7]},{"name":"Faculty","targets":0},{"name":"Abbreviation","targets":1},{"name":"Party","targets":2},{"name":"Percentage_vote_absolute","targets":3},{"name":"Students faculty","targets":4},{"name":"Share of absolute participants","targets":5},{"name":"Share of weight-corrected participants","targets":6},{"name":"Error margin","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
<hr>
<p>The faculty of Law and Criminology has the smallest error margin (<em>N-VA</em>, 23.2 ± 4.27%), followed by Arts (<em>Groen</em>, 27.3 ± 4.37) and Science (<em>Groen</em>, 23.3 ± 4.45). Not surprisingly, all of these are faculties with a high number of participants. The median error of all faculties is 14%. Not a single faculty has an error below 3%, and four even exceeded 30% error. It is therefore clear that the survey data from most faculties is not statistically significant, and no sound conclusions can be drawn from it.</p>
<p>To visualize all of this, I plotted the share of participants of the survey versus the share of participants after weight correction, and assign the error margin to the size aesthetic:</p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df_labels <span class="ot">&lt;-</span> df_fac_party_pct <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Share of absolute participants</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="st">`</span><span class="at">Share of weight-corrected participants</span><span class="st">`</span> <span class="sc">+</span> <span class="fl">0.03</span> <span class="sc">|</span> <span class="st">`</span><span class="at">Share of absolute participants</span><span class="st">`</span> <span class="sc">&lt;</span> <span class="st">`</span><span class="at">Share of weight-corrected participants</span><span class="st">`</span> <span class="sc">-</span> <span class="fl">0.03</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_fac_party_pct) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="fl">0.03</span>, <span class="at">lty =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="sc">-</span><span class="fl">0.03</span>, <span class="at">lty =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Share of absolute participants</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Share of weight-corrected participants</span><span class="st">`</span>, <span class="at">size =</span> <span class="st">`</span><span class="at">Error margin</span><span class="st">`</span>), <span class="at">pch =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"#29546a4D"</span>) <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> df_labels, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Share of absolute participants</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Share of weight-corrected participants</span><span class="st">`</span>, <span class="at">label =</span> <span class="fu">paste0</span>(Abbreviation, <span class="st">" ("</span>, Party, <span class="st">")"</span>)), <span class="at">box.padding =</span> <span class="fl">0.75</span>, <span class="at">segment.curvature =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">segment.ncp =</span> <span class="dv">3</span>, <span class="at">segment.angle =</span> <span class="dv">20</span>, <span class="at">max.overlaps =</span> <span class="cn">Inf</span>) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">12</span>), <span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.25</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">"black"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-weight_error" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-weight_error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="VetoPoll_files/figure-html/fig-weight_error-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-weight_error-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Bubble plot of actual versus weight-corrected survey participants per faculty. Bubbles above the first bisector denote large faculties with a low number of participants, which have been scaled up by the correction process (moved up along the y-axis). Points below the bisector are smaller faculties with high participant numbers, which have been scaled down after weight correction (moved down along the y-axis). The size of each bubble corresponds with the error margin on the result of the largest party in that faculty. Labels denote faculties (and their largest party) that deviate more than 3 percentage points from the bisector (dotted lines)
</figcaption>
</figure>
</div>
</div>
</div>
<p>The resulting plot in <a href="#fig-weight_error" class="quarto-xref">Figure&nbsp;5</a> gives a good overview of everything that has been discussed up to now. Lots of faculties with high error margins have been scaled up by the weight correction (<a href="#fig-weight_error" class="quarto-xref">Figure&nbsp;5</a>, large bubbles above the first bisector), inflating the weight of poor-quality data. On the other hand, three faculties had an unusually high number of participants, but have been down-scaled by the weight correction, reducing the impact of (borderline) decent-quality data (<a href="#fig-weight_error" class="quarto-xref">Figure&nbsp;5</a>, small bubbles below the first bisector).</p>
<p>As a consequence, the university-wide plot with weight correction - as made by <em>Veto -</em> unfortunately lacks any statistical power, and no real conclusions can be drawn from it.</p>
</section>
</section>
<section id="conclusions" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="conclusions"><span class="header-section-number">4</span> Conclusions</h2>
<p>The data acquired by the <em>Veto</em> survey in itself could have been very informative, if processed correctly. The writers of the article know very well that a survey with low number of participants yields data that cannot be completely trusted. They even warn for it in their own article, where faculty plots with low participant numbers are accompanied by the statement “<em>The response for this faculty is very low, so take the results with a grain of salt.</em>” So why bother correcting data of which you know it isn’t reliable in the first place? This is reminiscent of an anecdote recited by Charles Babbage, inventor of the first (mechanical) computing engines:</p>
<blockquote class="blockquote">
<p><em>On two occasions I have been asked, “Pray, Mr.&nbsp;Babbage, if you put into the machine wrong figures, will the right answers come out?” … I am not able rightly to apprehend the kind of confusion of ideas that could provoke such a question.</em></p>
<p><strong>Charles Babbage</strong></p>
</blockquote>
<p>Or more crudely stated: garbage in, garbage out. Correcting low-quality data does not suddenly allow you to make statistically sound claims. Paradoxically, not correcting the data and presenting it as the voting preferences of 1801 people who happen to study at KU Leuven would have probably been the better approach.</p>
<p>As mentioned earlier, this survey was widely discussed in the media and politicized in the lead-up to the 2024 federal elections. Several newspapers reported on its conclusions, and <a href="https://www.standaard.be/cnt/dmf20240527_97355026"><em>De Standaard</em></a> <span class="citation" data-cites="DeSmet.2024">(<a href="#ref-DeSmet.2024" role="doc-biblioref">De Smet, 2024</a>)</span> called upon the help of KU Leuven statistics professor Geert Molenberghs, who likewise stated that the number of participants is too low and differs too much between faculties to draw any sound conclusions. In a reaction to this, the editor-in-chief of <em>Veto</em> responded:</p>
<blockquote class="blockquote">
<p><em>[The survey] is not worthless, because the trend is in line with expectations […]</em></p>
<p><a href="https://www.standaard.be/cnt/dmf20240527_97355026"><strong>Editor-in-chief, Veto</strong></a></p>
</blockquote>
<p>Having some experience with setting up scientific experiments and performing the necessary diligence to make them statistically sound, this statement irks me to no end. If the results confirm what you already expected, then why even bother doing a survey in the first place? This is a beautiful example of confirmation bias: the data fits my expectations, so it must be correct. With no sufficient data to confirm or deny it, the “trend” of which the editor-in-chief speaks cannot be discerned from random noise. If the number of points is low enough, you will always be able to fit a line through them, one way or another.</p>
<p>All in all, the effort was good, and the authors did think about the right ways to correct for faculty weight, but it is a shame they applied it on data that is severely lacking in statistical power.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-DeSmet.2024" class="csl-entry" role="listitem">
De Smet, D. (2024). <em>Peiling studentenblad veroorzaakt ophef: Maakt <span>N-VA</span> zich terecht druk om <span>“groene”</span> proffen?</em> De Standaard. <a href="https://www.standaard.be/cnt/dmf20240527_97355026">https://www.standaard.be/cnt/dmf20240527_97355026</a>
</div>
<div id="ref-KUL.2024" class="csl-entry" role="listitem">
KU&nbsp;Leuven. (2024). <em>Student numbers</em>. Website. <a href="https://www.kuleuven.be/prodstudinfo/v2/50000050/aant_det_en_v2.html">https://www.kuleuven.be/prodstudinfo/v2/50000050/aant_det_en_v2.html</a>
</div>
<div id="ref-Nollet.2024.b" class="csl-entry" role="listitem">
Nollet, K., Douchy, P., &amp; Duwel, S. (2024b). <em>Peiling <span>Veto</span>: Bekijk hier hoe jouw faculteit stemde</em>. Veto. <a href="https://www.veto.be/sociaal/peiling-veto-bekijk-hier-hoe-jouw-faculteit-stemde/342446">https://www.veto.be/sociaal/peiling-veto-bekijk-hier-hoe-jouw-faculteit-stemde/342446</a>
</div>
<div id="ref-Nollet.2024.a" class="csl-entry" role="listitem">
Nollet, K., Douchy, P., &amp; Duwel, S. (2024a). <em>Peiling <span>Veto</span>: N-VA is weer de grootste partij bij studenten</em>. Veto. <a href="https://www.veto.be/sociaal/peiling-veto-n-va-is-weer-de-grootste-partij-bij-studenten/342378">https://www.veto.be/sociaal/peiling-veto-n-va-is-weer-de-grootste-partij-bij-studenten/342378</a>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>